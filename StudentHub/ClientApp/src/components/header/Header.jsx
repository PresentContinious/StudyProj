import styles from './header.module.css';
import {useNavigate} from "react-router-dom";
import {useContext, useState} from "react";
import {AuthContext} from "../layout/Layout";
import {LogoutModal} from "../modal-windows/ModalWindows";

const Header = () => {
    const navigate = useNavigate();
    const authProvider = useContext(AuthContext);
    const [open, setOpen] = useState(false);

    const getLogin = () => {
        if (authProvider.loggedIn) {
            return (
                <>
                    <svg
                        className={styles.icon}
                        fill="none"
                        height="50"
                        viewBox="0 0 50 50"
                        width="50"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <g className="g" clipPath="url(#clip0_736_15555)">
                            <path
                                className="path"
                                d="M24.9994 4.16675C36.5056 4.16675 45.8327 13.4938 45.8327 25.0001C45.8327 36.5063 36.5056 45.8334 24.9994 45.8334H8.33268C7.22761 45.8334 6.16781 45.3944 5.3864 44.613C4.605 43.8316 4.16602 42.7718 4.16602 41.6668V25.0001C4.16602 13.4938 13.4931 4.16675 24.9994 4.16675ZM24.9994 29.1667H18.7493C18.1968 29.1667 17.6669 29.3862 17.2762 29.7769C16.8855 30.1676 16.666 30.6975 16.666 31.2501C16.666 31.8026 16.8855 32.3325 17.2762 32.7232C17.6669 33.1139 18.1968 33.3334 18.7493 33.3334H24.9994C25.5519 33.3334 26.0818 33.1139 26.4725 32.7232C26.8632 32.3325 27.0827 31.8026 27.0827 31.2501C27.0827 30.6975 26.8632 30.1676 26.4725 29.7769C26.0818 29.3862 25.5519 29.1667 24.9994 29.1667ZM31.2494 20.8334H18.7493C18.2184 20.834 17.7076 21.0373 17.3215 21.4018C16.9354 21.7664 16.703 22.2646 16.6719 22.7947C16.6408 23.3247 16.8133 23.8467 17.1541 24.2539C17.4949 24.6611 17.9783 24.9228 18.5056 24.9855L18.7493 25.0001H31.2494C31.7803 24.9995 32.2911 24.7962 32.6772 24.4317C33.0633 24.0671 33.2957 23.5689 33.3268 23.0388C33.3579 22.5088 33.1854 21.9868 32.8446 21.5796C32.5038 21.1724 32.0204 20.9107 31.4931 20.848L31.2494 20.8334Z"
                                fill="#FCAF3B"
                            />
                        </g>
                        <defs className="defs">
                            <clipPath className="clip-path" id="clip0_736_15555">
                                <rect className="rect" fill="white" height="50" width="50"/>
                            </clipPath>
                        </defs>
                    </svg>
                    <svg
                        className={styles.icon}
                        fill="none"
                        height="50"
                        viewBox="0 0 50 50"
                        width="50"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            className="path"
                            d="M42.1061 32.8211C41.9518 32.6377 41.8003 32.4544 41.6516 32.2774C39.6072 29.8379 38.3704 28.3655 38.3704 21.4595C38.3704 20.3861 38.2922 19.3705 38.1366 18.4153C35.4998 18.5 32.9998 18 30.9998 15.5C28.9998 13 29.4998 10 30.1432 7.96145C29.1451 5.83231 27.1807 4.46436 25 4.46436C22.5076 4.46436 20.2987 6.25115 19.4912 8.9162C19.4697 8.94006 19.4442 8.96021 19.4159 8.9758C14.1767 11.1036 11.6305 15.186 11.6305 21.4567C11.6305 28.3655 10.3955 29.8379 8.34919 32.2747C8.20051 32.4516 8.04903 32.6313 7.89477 32.8183C7.4963 33.2924 7.24384 33.8692 7.16726 34.4804C7.09068 35.0916 7.19319 35.7117 7.46266 36.2672C8.03602 37.459 9.25802 38.1989 10.6529 38.1989H39.3573C40.7456 38.1989 41.9592 37.4599 42.5345 36.2736C42.8051 35.718 42.9086 35.0974 42.8326 34.4855C42.7567 33.8735 42.5046 33.2959 42.1061 32.8211ZM25 45.5358C26.3428 45.5347 27.6603 45.1751 28.8127 44.4951C29.9652 43.8151 30.9096 42.8401 31.5458 41.6734C31.5757 41.6175 31.5905 41.5549 31.5887 41.4917C31.5869 41.4285 31.5686 41.3668 31.5355 41.3126C31.5024 41.2584 31.4556 41.2136 31.3998 41.1826C31.344 41.1515 31.2809 41.1352 31.2168 41.1353H18.785C18.7208 41.1351 18.6576 41.1512 18.6016 41.1822C18.5457 41.2132 18.4988 41.258 18.4656 41.3122C18.4324 41.3664 18.4139 41.4282 18.4121 41.4915C18.4103 41.5548 18.4251 41.6174 18.4551 41.6734C19.0912 42.8399 20.0354 43.8149 21.1877 44.4949C22.34 45.1749 23.6573 45.5345 25 45.5358Z"
                            fill="#FCAF3B"
                        />
                        <circle className="circle" cx="37" cy="11" fill="white" r="5"/>
                    </svg>
                    <svg
                        className={styles.icon}
                        fill="none"
                        height="50"
                        viewBox="0 0 50 50"
                        width="50"
                        xmlns="http://www.w3.org/2000/svg"
                        onClick={() => navigate('/settings')}
                    >
                        <path
                            className="path"
                            d="M24.9997 25.0001C27.7624 25.0001 30.4119 23.9183 32.3654 21.9927C34.3189 20.0671 35.4164 17.4554 35.4164 14.7322C35.4164 12.009 34.3189 9.39734 32.3654 7.47174C30.4119 5.54614 27.7624 4.46436 24.9997 4.46436C22.2371 4.46436 19.5875 5.54614 17.634 7.47174C15.6805 9.39734 14.5831 12.009 14.5831 14.7322C14.5831 17.4554 15.6805 20.0671 17.634 21.9927C19.5875 23.9183 22.2371 25.0001 24.9997 25.0001ZM12.3509 27.9337C10.9696 27.9337 9.64482 28.4746 8.66806 29.4374C7.69131 30.4002 7.14258 31.7061 7.14258 33.0677V33.8011C7.14258 37.3112 9.40895 40.2801 12.6262 42.2985C15.8613 44.3286 20.2408 45.5358 24.9997 45.5358C29.7586 45.5358 34.1366 44.3286 37.3732 42.2985C40.5905 40.2801 42.8569 37.3112 42.8569 33.8011V33.0677C42.8569 31.7061 42.3081 30.4002 41.3314 29.4374C40.3546 28.4746 39.0299 27.9337 37.6485 27.9337H12.3509Z"
                            fill="#FCAF3B"
                        />
                    </svg>
                    <LogoutModal open={open} setOpen={setOpen}/>
                    <div className={styles.component} onClick={() => setOpen(true)}>
                        <div className={styles.textWrapper10}>Sign out</div>
                        <img className="uis-signout" alt="Uis signout"
                             src="https://c.animaapp.com/vAwxSWNV/img/uis-signout-3.svg"/>
                    </div>
                </>
            )
        }
        return (
            <>
                <div className={`${styles.frame}`} onClick={() => navigate('/sign-in')}>
                    <div className={styles.textWrapper2}>Увійти</div>
                </div>
                <div className={`${styles.propertyDefaultWrapper}`} onClick={() => navigate('/sign-up')}>
                    <div className={styles.textWrapper3}>Зареєструватися</div>
                </div>
            </>
        )
    }

    return (
        <div className={`${styles.header}`}>
            <img className={styles.img} alt="Img" src="https://c.animaapp.com/BU0gcmOz/img/-------------------1.svg"
                 onClick={() => navigate('/')}/>
            <div className={styles.frame2}>
                <img alt="Tabler search"
                     src="https://c.animaapp.com/BU0gcmOz/img/tabler-search.svg"/>
                <div className={styles.textWrapper4}>Чого ви хочете навчитися?</div>
            </div>
            <div className={styles.logging}>
                {getLogin()}
            </div>
            <svg
                fill="none"
                height="55"
                viewBox="0 0 55 55"
                width="55"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    className="path"
                    d="M27.4997 50.4166C24.3677 50.4166 21.4077 49.8146 18.6195 48.6107C15.8313 47.4069 13.396 45.7645 11.3136 43.6837C9.2328 41.6028 7.59044 39.1683 6.38655 36.3801C5.18266 33.5919 4.58148 30.6319 4.58301 27.4999C4.58301 24.3298 5.18496 21.3598 6.38884 18.5899C7.59273 15.8201 9.23509 13.3955 11.3159 11.3162C13.3968 9.23381 15.8305 7.59145 18.6172 6.38909C21.4038 5.18672 24.3647 4.58478 27.4997 4.58325C30.6698 4.58325 33.6398 5.1852 36.4097 6.38909C39.1795 7.59297 41.6041 9.23534 43.6834 11.3162C45.7658 13.397 47.4081 15.8223 48.6105 18.5922C49.8129 21.3621 50.4148 24.3313 50.4163 27.4999C50.4163 30.6319 49.8144 33.5919 48.6105 36.3801C47.4066 39.1683 45.7643 41.6036 43.6834 43.686C41.6026 45.7668 39.1772 47.4091 36.4074 48.613C33.6375 49.8169 30.6683 50.4181 27.4997 50.4166ZM27.4997 45.7187C28.4927 44.3437 29.3521 42.9114 30.0778 41.4218C30.8035 39.9322 31.3955 38.3471 31.8538 36.6666H23.1455C23.6038 38.3471 24.1959 39.9322 24.9216 41.4218C25.6472 42.9114 26.5066 44.3437 27.4997 45.7187ZM21.5413 44.802C20.8538 43.5416 20.2519 42.233 19.7355 40.8764C19.2191 39.5197 18.7898 38.1164 18.4476 36.6666H11.6872C12.7948 38.5763 14.1797 40.2378 15.842 41.651C17.5042 43.0642 19.404 44.1145 21.5413 44.802ZM33.458 44.802C35.5969 44.1145 37.4975 43.0642 39.1597 41.651C40.8219 40.2378 42.2061 38.5763 43.3122 36.6666H36.5518C36.208 38.118 35.7787 39.522 35.2638 40.8787C34.749 42.2353 34.147 43.5431 33.458 44.802ZM9.73926 32.0833H17.5309C17.4163 31.3194 17.33 30.5646 17.272 29.8191C17.2139 29.0735 17.1856 28.3005 17.1872 27.4999C17.1872 26.6978 17.2162 25.9248 17.2743 25.1807C17.3323 24.4367 17.4179 23.682 17.5309 22.9166H9.73926C9.54829 23.6805 9.40468 24.4352 9.30843 25.1807C9.21218 25.9263 9.16482 26.6994 9.16634 27.4999C9.16634 28.302 9.21447 29.0751 9.31072 29.8191C9.40697 30.5631 9.54982 31.3178 9.73926 32.0833ZM22.1143 32.0833H32.8851C32.9997 31.3194 33.086 30.5646 33.1441 29.8191C33.2021 29.0735 33.2304 28.3005 33.2288 27.4999C33.2288 26.6978 33.1998 25.9248 33.1418 25.1807C33.0837 24.4367 32.9981 23.682 32.8851 22.9166H22.1143C21.9997 23.6805 21.9134 24.4352 21.8553 25.1807C21.7972 25.9263 21.769 26.6994 21.7705 27.4999C21.7705 28.302 21.7995 29.0751 21.8576 29.8191C21.9156 30.5631 22.0012 31.3178 22.1143 32.0833ZM37.4684 32.0833H45.2601C45.4511 31.3194 45.5947 30.5646 45.6909 29.8191C45.7872 29.0735 45.8345 28.3005 45.833 27.4999C45.833 26.6978 45.7849 25.9248 45.6886 25.1807C45.5924 24.4367 45.4495 23.682 45.2601 22.9166H37.4684C37.583 23.6805 37.6693 24.4352 37.7274 25.1807C37.7854 25.9263 37.8137 26.6994 37.8122 27.4999C37.8122 28.302 37.7831 29.0751 37.7251 29.8191C37.667 30.5631 37.5815 31.3178 37.4684 32.0833ZM36.5518 18.3333H43.3122C42.2045 16.4235 40.8204 14.7621 39.1597 13.3489C37.499 11.9357 35.5984 10.8853 33.458 10.1978C34.1455 11.4583 34.7475 12.7668 35.2638 14.1235C35.7802 15.4801 36.2095 16.8834 36.5518 18.3333ZM23.1455 18.3333H31.8538C31.3955 16.6527 30.8035 15.0676 30.0778 13.578C29.3521 12.0885 28.4927 10.6562 27.4997 9.28117C26.5066 10.6562 25.6472 12.0885 24.9216 13.578C24.1959 15.0676 23.6038 16.6527 23.1455 18.3333ZM11.6872 18.3333H18.4476C18.7913 16.8819 19.2214 15.4778 19.7378 14.1212C20.2542 12.7645 20.8554 11.4567 21.5413 10.1978C19.4025 10.8853 17.5019 11.9357 15.8397 13.3489C14.1775 14.7621 12.7933 16.4235 11.6872 18.3333Z"
                    fill="#FCAF3B"
                />
            </svg>
        </div>
    );
};


export default Header;